<!DOCTYPE html>
<html>
  <head>
    <title>WORD LINK</title>
    <%= csrf_meta_tags %>

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Word Link">
    <meta content='True' name='HandheldFriendly' />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    


    <link rel="apple-touch-icon" sizes="192x192" href=<%= image_path("logo.png") %>>  

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    

    <script type="text/javascript">
      (function(document,navigator,standalone) {
        // prevents links from apps from oppening in mobile safari
        // this javascript must be the first script in your <head>
        if ((standalone in navigator) && navigator[standalone]) {
          var curnode, location=document.location, stop=/^(a|html)$/i;
          document.addEventListener('click', function(e) {
            curnode=e.target;
            while (!(stop).test(curnode.nodeName)) {
              curnode=curnode.parentNode;
            }
            // Condidions to do this only on links to your own app
            // if you want all links, use if('href' in curnode) instead.
            if(
              'href' in curnode && // is a link
              (chref=curnode.href).replace(location.href,'').indexOf('#') && // is not an anchor
              (	!(/^[a-z\+\.\-]+:/i).test(chref) ||                       // either does not have a proper scheme (relative links)
                chref.indexOf(location.protocol+'//'+location.host)===0 ) // or is in the same protocol and domain
            ) {
              e.preventDefault();
              location.href = curnode.href;
            }
          },false);
        }
      })(document,window.navigator,'standalone');
    </script>

  </head>

  <body>
    <div class="overflow_div">
      <iframe id="sc_player" width="100%" height="300" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/164240429&amp;color=%23ff5500&amp;auto_play=false&amp;hide_related=true&amp;show_comments=false&amp;show_user=true&amp;show_reposts=false&amp;show_teaser=false&amp;visual=false"></iframe> 


    </div>
    <div class="content">
      <%= yield %>
    </div>

  </body>
</html>

<script>

	

You can detect if the site visitor is on an iOS device with some JavaScript then either show or hide the instructions based on a cookie:

    Check if device is running iOS:

    if(!(/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream)){ return false; }

    Check if current view is already in webapp:

    if(window.navigator.standalone == true){ return false; }

    Check if you have created a cookie for this user already:

    if(document.cookie.search("alreadAsked") >= 0){ return false; }

    Prompt user by displaying an "Add to Homescreen" element on your page or redirecting to another page:

    document.getElementById("hiddenPrompt").style.display = 'inherit';

    Store a cookie so you will not ask the user after they have added it. You can also store the cookie after the user clicks a "done" button instead so the user will be prompted until they add it to the home screen or click a "do not show this again" button:

    document.cookie = "alreadAsked=true; expires=Thu, 18 Dec 2099 12:00:00 UTC";

All together now, this function will run on page load:

// On page load
(function() {
  // Check if iOS
  if(!(/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream)){ return false; }

  // Check if already in webapp
  if(window.navigator.standalone == true){ return false; }

  // Check if you already asked them to add to homescreen
  if(document.cookie.search("alreadAsked") >= 0){ return false; }

  // Ask user to add to homescreen
  alert("add this app to your homescreen by clicking 'add to homescreen at the top right corner");
  document.getElementById("hiddenPrompt").style.display = 'inherit';
});

// After clicking a button to dismiss prompt
function hidePromptInFuture(){
  // Do not show prompt again
  document.cookie = "alreadAsked=true; expires=Thu, 18 Dec 2099 12:00:00 UTC";
}


</script>